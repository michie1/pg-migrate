<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [PgMigrate](#pgmigrate)
    -   [connect](#connect)
    -   [migrate](#migrate)
    -   [rollback](#rollback)
    -   [reset](#reset)
    -   [end](#end)

## PgMigrate

[pg-migrate.js:51-64](https://github.com/urbica/pg-migrate/blob/3fd63acc2b3941286c739a273562f519c85b67ff/pg-migrate.js#L51-L64 "Source code on GitHub")

PgMigrate

**Parameters**

-   `options` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** object
    -   `options.database` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** database to apply migrations
    -   `options.host` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** database host (optional, default `'localhost'`)
    -   `options.port` **int** database port (optional, default `5432`)
    -   `options.user` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** database user
    -   `options.password` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** database password
    -   `options.schemaName` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** database migrations table schema (optional, default `'public'`)
    -   `options.tableName` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** database migrations table name (optional, default `'migrations'`)
    -   `options.migrationsDir` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** path to migrations dir (optional, default `'./migrations'`)
    -   `options.attachMonitor` **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** attach [pg-monitor](https://github.com/vitaly-t/pg-monitor) (optional, default `false`)

**Examples**

```javascript
const PgMigrate = require('@urbica/pg-migrate');
const pgMigrate = new PgMigrate({ database: 'test', migrationsDir: './migrations' });
pgMigrate
 .connect()
 .then(() => pgMigrate.migrate())
 .then(() => pgMigrate.end());
```

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 

### connect

[pg-migrate.js:77-83](https://github.com/urbica/pg-migrate/blob/3fd63acc2b3941286c739a273562f519c85b67ff/pg-migrate.js#L77-L83 "Source code on GitHub")

connect
prepares database and reads migrations

**Examples**

```javascript
const PgMigrate = require('@urbica/pg-migrate');
const pgMigrate = new PgMigrate();
pgMigrate.connect();
```

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 

### migrate

[pg-migrate.js:118-142](https://github.com/urbica/pg-migrate/blob/3fd63acc2b3941286c739a273562f519c85b67ff/pg-migrate.js#L118-L142 "Source code on GitHub")

migrate
runs migrations

**Examples**

```javascript
const PgMigrate = require('@urbica/pg-migrate');
const pgMigrate = new PgMigrate();
pgMigrate
 .connect()
 .then(() => pgMigrate.migrate());
```

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 

### rollback

[pg-migrate.js:158-182](https://github.com/urbica/pg-migrate/blob/3fd63acc2b3941286c739a273562f519c85b67ff/pg-migrate.js#L158-L182 "Source code on GitHub")

rollback
rollbacks migrations

**Parameters**

-   `limit` **int** number of migrations to rollback (optional, default `1`)

**Examples**

```javascript
const PgMigrate = require('@urbica/pg-migrate');
const pgMigrate = new PgMigrate();
pgMigrate
 .connect()
 .then(() => pgMigrate.rollback(1));
```

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 

### reset

[pg-migrate.js:197-219](https://github.com/urbica/pg-migrate/blob/3fd63acc2b3941286c739a273562f519c85b67ff/pg-migrate.js#L197-L219 "Source code on GitHub")

reset
rollbacks all migrations

**Examples**

```javascript
const PgMigrate = require('@urbica/pg-migrate');
const pgMigrate = new PgMigrate();
pgMigrate
 .connect()
 .then(() => pgMigrate.reset());
```

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 

### end

[pg-migrate.js:234-236](https://github.com/urbica/pg-migrate/blob/3fd63acc2b3941286c739a273562f519c85b67ff/pg-migrate.js#L234-L236 "Source code on GitHub")

end
closes database connection

**Examples**

```javascript
const PgMigrate = require('@urbica/pg-migrate');
const pgMigrate = new PgMigrate();
pgMigrate
 .connect()
 .then(() => pgMigrate.end());
```

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 
